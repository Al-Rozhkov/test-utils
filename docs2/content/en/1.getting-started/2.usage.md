---
title: Usage
---

# Usage

## Setting up the test context

In each describe block where you are taking advantage of the `@nuxt/test-utils` helper methods, you will need to set up the test context before beginning.

```js
import { setupTest } from '@nuxt/test-utils'

describe('My test', () => {
  setupTest({
    // test context options
  })

  test('my test', () => {
    // ...
  })
})
```

Behind the scenes, `setupTest` performs a number of tasks in `beforeEach`, `afterEach` and `afterAll` to setup the Nuxt test environment correctly. It also adds a single Nuxt setup task as an additional test. This means it must be run within the describe block of a test, before any other calls to `test` or `it`. 

::alert{type="warning"}
Using `test.only` or `it.only` later in the describe block of your test will cause the tests to fail.
::

## Basic usage

```js
import { setupTest, get } from '@nuxt/test-utils'

describe('My app', () => {
  setupTest({
    server: true
  })

  test('should render page', async () => {
    const html = await get('/')
    expect(html).toContain('Works!')
  })
})
```

## End-to-end usage

```js
import { setupTest, createPage } from '@nuxt/test-utils'

describe('My app', () => {
  setupTest({
    browser: true
  })

  test('should render page', async () => {
    const page = await createPage('/')
    const body = await page.innerHTML('body')
    expect(body).toContain('Works!')
  })
})
```
